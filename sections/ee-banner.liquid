<section id="ee-banner-{{ section.id }}" class="ee-banner">
  <div class="ee-banner__topbar">
    <!-- Mobile hamburger -->
    <button class="ee-hamburger" aria-expanded="false" aria-label="Open menu">
      <span class="ee-hamburger__bar"></span>
    </button>

    <div class="ee-banner__brand">{{ section.settings.brand_text }}</div>
    <div class="ee-banner__tagline">{{ section.settings.tagline }}</div>

    {% if section.settings.top_cta_text != blank %}
      <a class="ee-btn ee-btn--top" href="{{ section.settings.top_cta_link | default: '#' }}">
        <span>{{ section.settings.top_cta_text }}</span>
        <span class="ee-arrow" aria-hidden="true">→</span>
      </a>
    {% endif %}
  </div>

  {%- comment -%} MOBILE DROPDOWN PANEL {%- endcomment -%}
  <div class="ee-mobile-drawer" aria-hidden="true">
    <p class="ee-mobile-tagline">{{ section.settings.tagline }}</p>
    {% if section.settings.top_cta_text != blank %}
      <a class="ee-btn ee-btn--top" href="{{ section.settings.top_cta_link | default: '#' }}">
        <span>{{ section.settings.top_cta_text }}</span>
        <span class="ee-arrow" aria-hidden="true">→</span>
      </a>
    {% endif %}
  </div>

  <div class="ee-banner__hero"
       role="img"
       aria-label="{{ section.settings.bg_alt | escape }}"
       {% if section.settings.bg_image %}
         style="--bg:url({{ section.settings.bg_image | image_url }})"
       {% endif %}>
    <div class="ee-banner__inner">
      <h1 class="ee-banner__title">{{ section.settings.title }}</h1>
      {% if section.settings.subtitle != blank %}
        <p class="ee-banner__subtitle">{{ section.settings.subtitle }}</p>
      {% endif %}
      {% if section.settings.main_cta_text != blank %}
        <a class="ee-btn ee-btn--primary" href="{{ section.settings.main_cta_link | default: '#' }}">
          <span>{{ section.settings.main_cta_text }}</span>
          <span class="ee-arrow" aria-hidden="true">→</span>
        </a>
      {% endif %}
    </div>
  </div>

  {% if section.settings.bottom_strip != blank %}
    <div class="ee-banner__strip">
      <span>{{ section.settings.bottom_strip }}</span>
    </div>
  {% endif %}
</section>

<style>
  #ee-banner-{{ section.id }} {
    --max: 1200px; --pad: 20px; --black:#111; --white:#fff; --accent:#FCEB00; --gray:#efefef;
  }

  /* Top bar */
  #ee-banner-{{ section.id }} .ee-banner__topbar{
    display:grid; grid-template-columns:auto 1fr auto; align-items:center;
    gap:16px; background:#f3f3f3; padding:10px var(--pad); font-weight:600;
  }
  #ee-banner-{{ section.id }} .ee-banner__brand{justify-self:start}
  #ee-banner-{{ section.id }} .ee-banner__tagline{justify-self:center; text-align:center}
  #ee-banner-{{ section.id }} .ee-banner__topbar .ee-btn--top{ justify-self:end; width:max-content; white-space:nowrap; }

  /* Hamburger */
  #ee-banner-{{ section.id }} .ee-hamburger{ display:none; position:relative; width:32px; height:28px; background:transparent; border:none; padding:0; cursor:pointer;}
  #ee-banner-{{ section.id }} .ee-hamburger__bar,
  #ee-banner-{{ section.id }} .ee-hamburger__bar::before,
  #ee-banner-{{ section.id }} .ee-hamburger__bar::after{
    content:""; position:absolute; left:0; right:0; height:2px; background:#000;
    transition: transform .25s ease, opacity .2s ease, top .25s ease, bottom .25s ease;
  }
  #ee-banner-{{ section.id }} .ee-hamburger__bar{ top:50%; transform:translateY(-50%); }
  #ee-banner-{{ section.id }} .ee-hamburger__bar::before{ top:-8px; }
  #ee-banner-{{ section.id }} .ee-hamburger__bar::after{ bottom:-8px; }
  #ee-banner-{{ section.id }} .ee-hamburger[aria-expanded="true"] .ee-hamburger__bar{ background:transparent; }
  #ee-banner-{{ section.id }} .ee-hamburger[aria-expanded="true"] .ee-hamburger__bar::before{ top:0; transform:rotate(45deg); }
  #ee-banner-{{ section.id }} .ee-hamburger[aria-expanded="true"] .ee-hamburger__bar::after{ bottom:0; transform:rotate(-45deg); }

  /* Buttons – base */
  #ee-banner-{{ section.id }} .ee-btn{
    position:relative; overflow:hidden; isolation:isolate;
    display:inline-flex; align-items:center; gap:.5rem;
    padding:.55rem 1.2rem; text-decoration:none; line-height:1; cursor:pointer;
    border:none; outline:none; width:max-content; white-space:nowrap;
  }
  #ee-banner-{{ section.id }} .ee-btn::before{
    content:""; position:absolute; inset:0; transform:scaleX(0);
    transform-origin:left; transition:transform .6s ease; z-index:-1;
  }
  #ee-banner-{{ section.id }} .ee-btn:hover::before{ transform:scaleX(1); }
  #ee-banner-{{ section.id }} .ee-btn--top{ background:var(--accent); color:#000; font-weight:600; }
  #ee-banner-{{ section.id }} .ee-btn--top::before{ background:#000; }
  #ee-banner-{{ section.id }} .ee-btn--top:hover{ color:#fff; }
  #ee-banner-{{ section.id }} .ee-btn--primary{ background:#000; color:#fff; padding:.65rem 1.3rem; }
  #ee-banner-{{ section.id }} .ee-btn--primary::before{ background:var(--accent); }
  #ee-banner-{{ section.id }} .ee-btn--primary:hover{ color:#000; }
  @keyframes arrow-blink{0%,100%{opacity:1}50%{opacity:0}}
  #ee-banner-{{ section.id }} .ee-btn .ee-arrow{ margin-left:.4rem; display:inline-block; }
  #ee-banner-{{ section.id }} .ee-btn:hover .ee-arrow{ animation:arrow-blink .8s infinite; }

  /* Mobile drawer (hidden on desktop; slide via max-height) */
  #ee-banner-{{ section.id }} .ee-mobile-drawer{
    display:none; overflow:hidden; max-height:0; transition:max-height .3s ease, padding .3s ease;
    background:#fff; padding:0 var(--pad); text-align:center; box-shadow:0 0 0 transparent;
  }
  #ee-banner-{{ section.id }}.menu-open .ee-mobile-drawer{
    max-height:200px; padding:14px var(--pad) 18px; box-shadow:0 2px 0 #e8e8e8;
  }
  #ee-banner-{{ section.id }} .ee-mobile-tagline{ margin:0 0 12px; font-weight:600; }

  /* Hero & strip */
  #ee-banner-{{ section.id }} .ee-banner__hero{ background:var(--white); background-image:var(--bg); background-size:cover; background-position:center; min-height:520px; display:grid; place-items:center; }
  #ee-banner-{{ section.id }} .ee-banner__inner{ width:100%; max-width:var(--max); padding:40px var(--pad); }
  #ee-banner-{{ section.id }} .ee-banner__title{ font-size:clamp(42px,6vw,80px); line-height:1.05; margin:.25em 0; }
  #ee-banner-{{ section.id }} .ee-banner__subtitle{ max-width:720px; font-size:1rem; line-height:1.6; color:#333; }
  #ee-banner-{{ section.id }} .ee-banner__strip{ display:flex; justify-content:center; align-items:center; background:#eee; font-size:.78rem; padding:8px 12px; border-top:1px solid #ddd; letter-spacing:.06em; }

  /* Mobile */
  @media (max-width:768px){
    #ee-banner-{{ section.id }} .ee-hamburger{ display:block; }
    #ee-banner-{{ section.id }} .ee-banner__brand{ justify-self:center; }
    #ee-banner-{{ section.id }} .ee-banner__tagline,
    #ee-banner-{{ section.id }} .ee-banner__topbar .ee-btn--top{ display:none; }

    #ee-banner-{{ section.id }} .ee-mobile-drawer{ display:block; } /* enable drawer on mobile */

    #ee-banner-{{ section.id }} .ee-banner__topbar{ grid-template-columns:auto 1fr auto; font-size:1rem; padding:12px var(--pad); }
    #ee-banner-{{ section.id }} .ee-banner__hero{ min-height:380px; padding:20px var(--pad); }
    #ee-banner-{{ section.id }} .ee-banner__inner{ text-align:center; padding:20px var(--pad); }
    #ee-banner-{{ section.id }} .ee-banner__title{ font-size:2rem; margin-bottom:.6rem; }
    #ee-banner-{{ section.id }} .ee-banner__subtitle{ font-size:.95rem; max-width:90%; margin:0 auto 1.2rem; }
    #ee-banner-{{ section.id }} .ee-btn--primary{ margin:0 auto; display:inline-flex; }
    #ee-banner-{{ section.id }} .ee-banner__strip{ font-size:.7rem; padding:6px 8px; }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var root = document.querySelector('#ee-banner-{{ section.id }}');
    if (!root) return;
    var hb = root.querySelector('.ee-hamburger');
    var drawer = root.querySelector('.ee-mobile-drawer');

    if (hb && drawer) {
      hb.addEventListener('click', function () {
        var expanded = hb.getAttribute('aria-expanded') === 'true';
        hb.setAttribute('aria-expanded', expanded ? 'false' : 'true');
        root.classList.toggle('menu-open', !expanded);
        drawer.setAttribute('aria-hidden', expanded ? 'true' : 'false');
      });
    }
  });
</script>
